<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>ToDo</title>
</head>
<body>
    <h1 class="heading">What To Do?</h1>
    <div class="container">
    <input class="inp" id="enter_list">
    <button class="btn" id="btn">ADD</button></div>
    <div class="input" id="list">
    </div>
</body>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const btn = document.getElementById("btn");
    const enterList = document.getElementById("enter_list");
    const listContainer = document.getElementById("list");

    // Load tasks from localStorage
    let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
    tasks.forEach(task => createTaskElement(task.text, task.completed));

    btn.addEventListener("click", addTask);

    enterList.addEventListener("keypress", function (e) {
        if (e.key === "Enter") {
            addTask();
        }
    });

    function addTask() {
        const taskText = enterList.value.trim();
        if (taskText !== "") {
            const task = { text: taskText, completed: false };
            tasks.push(task);
            localStorage.setItem("tasks", JSON.stringify(tasks));
            createTaskElement(taskText, false);
            enterList.value = "";  // Clear input field
        }
    }

    function createTaskElement(taskText, completed) {
        const taskItem = document.createElement("div");
        taskItem.className = "task-item";
        if (completed) {
            taskItem.classList.add("completed");
        }
        taskItem.textContent = taskText;

        // Create delete button
        const deleteBtn = document.createElement("button");
        deleteBtn.className = "delete-btn";
        deleteBtn.textContent = "X";

        // Delete task on button click
        deleteBtn.addEventListener("click", function () {
            listContainer.removeChild(taskItem);
            tasks = tasks.filter(task => task.text !== taskText);
            localStorage.setItem("tasks", JSON.stringify(tasks));
        });

        taskItem.appendChild(deleteBtn);

        taskItem.addEventListener("click", function () {
            taskItem.classList.toggle("completed");
            updateTaskStatus(taskText);
        });

        listContainer.appendChild(taskItem);
    }

    function updateTaskStatus(taskText) {
        tasks = tasks.map(task => {
            if (task.text === taskText) {
                task.completed = !task.completed;
            }
            return task;
        });
        localStorage.setItem("tasks", JSON.stringify(tasks));
    }
});


</script>
</html>